{"ast":null,"code":"import axios from \"axios\";\nimport { API_URL, JWT_SECRET } from \"../env\";\nimport jwt_decode from \"jwt-decode\";\nimport jwtDecode from \"jwt-decode\";\n\nfunction _axios() {\n  let bearToken = localStorage.getItem(\"eventBearerToken\");\n  return axios.create({\n    headers: {\n      'Authorization': `EventTracker ${bearToken}`\n    }\n  });\n}\n\nconst IsLoggedIn = () => {\n  return dispatch => {\n    try {\n      var userData = jwt_decode(localStorage.getItem(\"eventBearerToken\"));\n\n      if (userData.exp && Date.now() < userData.exp * 1000) {\n        //// token is valid token\n        console.log(\"logged in already\");\n        dispatch({\n          type: \"LOG_IN\"\n        });\n        dispatch({\n          type: \"EMAIL_CONFIRMED\",\n          payload: userData.emailConfirmed\n        });\n      } else {\n        dispatch({\n          type: \"LOG_OUT\"\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      dispatch({\n        type: \"LOG_OUT\"\n      });\n    }\n  };\n};\n\n_c = IsLoggedIn;\n\nconst LogIn = (data, callback) => {\n  return function (dispatch) {\n    const options = {\n      url: `${API_URL}/auth/login`,\n      method: \"POST\",\n      data: data\n    };\n\n    _axios()(options).then(resp => {\n      localStorage.setItem(\"eventBearerToken\", resp.data.token);\n      dispatch({\n        type: \"LOG_IN\"\n      });\n      dispatch({\n        type: \"EMAIL_CONFIRMED\",\n        payload: resp.data.emailConfirmed\n      });\n      callback && callback();\n    }).catch(err => {\n      callback && callback(err.response.data.msg);\n    });\n  };\n};\n\n_c2 = LogIn;\n\nconst Register = (data, callback) => {\n  console.log(data, 'data');\n  return function (dispatch) {\n    const options = {\n      url: `${API_URL}/auth`,\n      method: \"POST\",\n      data: data\n    };\n\n    _axios()(options).then(resp => {\n      localStorage.setItem(\"eventBearerToken\", resp.data.token);\n      dispatch({\n        type: \"LOG_IN\"\n      });\n    }).catch(err => {\n      callback && callback(err.response.data.msg);\n    }).finally(() => {// callback && callback();\n    });\n  };\n};\n\n_c3 = Register;\n\nconst LogOut = () => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/auth/logout`,\n      method: \"GET\"\n    };\n\n    _axios()(options).then(() => {\n      localStorage.removeItem(\"eventBearerToken\");\n      dispatch({\n        type: \"LOG_OUT\"\n      });\n    }).catch(console.error);\n  };\n};\n\n_c4 = LogOut;\n\nconst SendVerifyEmail = callback => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/auth/sendVerifyEmail`,\n      method: \"GET\"\n    };\n\n    _axios()(options).then(resp => {\n      if (resp.data.status == 1) {\n        callback && callback(1);\n      } else if (resp.data.status == 2) {\n        callback && callback(2);\n      } else callback && callback(3);\n    }).catch(err => {\n      callback && callback(0, err);\n    });\n  };\n};\n\n_c5 = SendVerifyEmail;\n\nconst SendResetEmail = (state, callback) => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/auth/sendResetEmail`,\n      method: \"POST\",\n      data: state\n    };\n\n    _axios()(options).then(resp => {\n      callback && callback();\n    }).catch(err => {\n      callback && callback(true, err.response.data.msg);\n    });\n  };\n};\n\n_c6 = SendResetEmail;\n\nconst VerifyEmail = (search, callback) => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/auth/verifyEmail${search}`,\n      method: \"GET\"\n    };\n\n    _axios()(options).then(resp => {\n      let decoded = jwtDecode(resp.data.token, JWT_SECRET);\n      console.log(decoded);\n      localStorage.setItem(\"eventBearerToken\", resp.data.token);\n      dispatch({\n        type: \"EMAIL_CONFIRMED\",\n        payload: true\n      });\n      callback && callback(false);\n    }).catch(err => {\n      callback && callback(true, err.response.data.msg);\n    });\n  };\n};\n\n_c7 = VerifyEmail;\n\nconst ResetPassword = (state, callback) => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/auth/resetPassword`,\n      method: \"POST\",\n      data: state\n    };\n\n    _axios()(options).then(resp => {\n      let token = resp.data.token;\n      localStorage.setItem(\"eventBearerToken\", token);\n      dispatch({\n        type: \"LOG_IN\"\n      });\n      dispatch({\n        type: \"EMAIL_CONFIRMED\",\n        payload: true\n      });\n      callback && callback();\n    }).catch(err => {\n      callback && callback(true, err.response.data.msg);\n    });\n  };\n};\n\n_c8 = ResetPassword;\n\nconst updateUserInfo = (state, callback) => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/account/update`,\n      method: \"POST\",\n      data: state\n    };\n\n    _axios()(options).then(resp => {\n      callback && callback();\n    }).catch(err => {\n      callback && callback(true, err.response.data.msg);\n    });\n  };\n};\n\nconst deleteUserInfo = callback => {\n  return dispatch => {\n    const options = {\n      url: `${API_URL}/account/delete`,\n      method: \"POST\"\n    };\n\n    _axios()(options).then(resp => {\n      callback && callback();\n    }).catch(err => {\n      callback && callback(true, err.response.data.msg);\n    });\n  };\n};\n\nexport { IsLoggedIn, LogIn, Register, LogOut, SendVerifyEmail, VerifyEmail, SendResetEmail, ResetPassword, updateUserInfo, deleteUserInfo };\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"IsLoggedIn\");\n$RefreshReg$(_c2, \"LogIn\");\n$RefreshReg$(_c3, \"Register\");\n$RefreshReg$(_c4, \"LogOut\");\n$RefreshReg$(_c5, \"SendVerifyEmail\");\n$RefreshReg$(_c6, \"SendResetEmail\");\n$RefreshReg$(_c7, \"VerifyEmail\");\n$RefreshReg$(_c8, \"ResetPassword\");","map":{"version":3,"sources":["G:/ReactEvents_old/client/src/utils/auth.js"],"names":["axios","API_URL","JWT_SECRET","jwt_decode","jwtDecode","_axios","bearToken","localStorage","getItem","create","headers","IsLoggedIn","dispatch","userData","exp","Date","now","console","log","type","payload","emailConfirmed","e","LogIn","data","callback","options","url","method","then","resp","setItem","token","catch","err","response","msg","Register","finally","LogOut","removeItem","error","SendVerifyEmail","status","SendResetEmail","state","VerifyEmail","search","decoded","ResetPassword","updateUserInfo","deleteUserInfo"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { API_URL, JWT_SECRET } from \"../env\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nfunction _axios() {\r\n    let bearToken = localStorage.getItem(\"eventBearerToken\")\r\n    return axios.create({\r\n        headers: { 'Authorization': `EventTracker ${bearToken}` }\r\n    });\r\n}\r\nconst IsLoggedIn = () => {\r\n    return (dispatch) => {\r\n        try {\r\n            var userData = jwt_decode(localStorage.getItem(\"eventBearerToken\"));\r\n\r\n            if (userData.exp && Date.now() < userData.exp * 1000) {\r\n                //// token is valid token\r\n                console.log(\"logged in already\")\r\n                dispatch({ type: \"LOG_IN\" });\r\n                dispatch({ type: \"EMAIL_CONFIRMED\", payload: userData.emailConfirmed });\r\n            } else {\r\n                dispatch({ type: \"LOG_OUT\" });\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            dispatch({ type: \"LOG_OUT\" });\r\n        }\r\n    };\r\n};\r\nconst LogIn = (data, callback) => {\r\n    return function (dispatch) {\r\n        const options = {\r\n            url: `${API_URL}/auth/login`,\r\n            method: \"POST\",\r\n            data: data\r\n        };\r\n        _axios()(options)\r\n            .then((resp) => {\r\n                localStorage.setItem(\"eventBearerToken\", resp.data.token);\r\n                dispatch({ type: \"LOG_IN\" });\r\n                dispatch({ type: \"EMAIL_CONFIRMED\", payload: resp.data.emailConfirmed });\r\n                callback && callback();\r\n            })\r\n            .catch(err => {\r\n                callback && callback(err.response.data.msg);\r\n            });\r\n    };\r\n};\r\n\r\n\r\nconst Register = (data, callback) => {\r\n    console.log(data, 'data')\r\n    return function (dispatch) {\r\n        const options = {\r\n            url: `${API_URL}/auth`,\r\n            method: \"POST\",\r\n            data: data\r\n        };\r\n        _axios()(options)\r\n            .then((resp) => {\r\n                localStorage.setItem(\"eventBearerToken\", resp.data.token);\r\n                dispatch({ type: \"LOG_IN\" });\r\n            })\r\n            .catch(err => {\r\n                callback && callback(err.response.data.msg);\r\n            }).finally(() => {\r\n                // callback && callback();\r\n            });\r\n    };\r\n};\r\n\r\nconst LogOut = () => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/auth/logout`,\r\n            method: \"GET\"\r\n        };\r\n        _axios()(options)\r\n            .then(() => {\r\n                localStorage.removeItem(\"eventBearerToken\")\r\n                dispatch({ type: \"LOG_OUT\" });\r\n            })\r\n            .catch(console.error);\r\n    };\r\n};\r\n\r\nconst SendVerifyEmail = (callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/auth/sendVerifyEmail`,\r\n            method: \"GET\"\r\n        };\r\n        _axios()(options).then((resp) => {\r\n\r\n            if (resp.data.status == 1) {\r\n                callback && callback(1);\r\n            }\r\n            else if (resp.data.status == 2) {\r\n                callback && callback(2);\r\n            } else callback && callback(3);\r\n        }).catch(err => {\r\n            callback && callback(0, err);\r\n        })\r\n    };\r\n};\r\nconst SendResetEmail = (state, callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/auth/sendResetEmail`,\r\n            method: \"POST\",\r\n            data: state\r\n        };\r\n        _axios()(options).then((resp) => {\r\n            callback && callback();\r\n        }).catch(err => {\r\n            callback && callback(true, err.response.data.msg);\r\n        })\r\n    };\r\n};\r\n\r\nconst VerifyEmail = (search, callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/auth/verifyEmail${search}`,\r\n            method: \"GET\"\r\n        };\r\n        _axios()(options).then((resp) => {\r\n            let decoded = jwtDecode(resp.data.token, JWT_SECRET);\r\n            console.log(decoded);\r\n            localStorage.setItem(\"eventBearerToken\", resp.data.token);\r\n            dispatch({ type: \"EMAIL_CONFIRMED\", payload: true });\r\n            callback && callback(false);\r\n        }).catch(err => {\r\n            callback && callback(true, err.response.data.msg);\r\n        })\r\n    };\r\n};\r\nconst ResetPassword = (state, callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/auth/resetPassword`,\r\n            method: \"POST\",\r\n            data: state\r\n        };\r\n        _axios()(options).then((resp) => {\r\n            let token = resp.data.token;\r\n            localStorage.setItem(\"eventBearerToken\", token);\r\n            dispatch({ type: \"LOG_IN\" })\r\n            dispatch({ type: \"EMAIL_CONFIRMED\", payload: true })\r\n            callback && callback();\r\n        }).catch(err => {\r\n            callback && callback(true, err.response.data.msg);\r\n        })\r\n    };\r\n};\r\n\r\nconst updateUserInfo = (state, callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/account/update`,\r\n            method: \"POST\",\r\n            data: state\r\n        };\r\n        _axios()(options).then((resp) => {\r\n            callback && callback();\r\n        }).catch(err => {\r\n            callback && callback(true, err.response.data.msg);\r\n        })\r\n    };\r\n};\r\n\r\nconst deleteUserInfo = (callback) => {\r\n    return (dispatch) => {\r\n        const options = {\r\n            url: `${API_URL}/account/delete`,\r\n            method: \"POST\",\r\n        };\r\n        _axios()(options).then((resp) => {\r\n            callback && callback();\r\n        }).catch(err => {\r\n            callback && callback(true, err.response.data.msg);\r\n        })\r\n    };\r\n};\r\nexport { IsLoggedIn, LogIn, Register, LogOut, SendVerifyEmail, VerifyEmail, SendResetEmail, ResetPassword, updateUserInfo, deleteUserInfo };\r\n"]},"metadata":{},"sourceType":"module"}